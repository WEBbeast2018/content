## Module 1 Lesson 11
### Javascript OOP: old days to Typescript
(This document is optimized for presentation using [reveal-md](https://github.com/webpro/reveal-md))

---

### Prep
* [Object-oriented Programming in JavaScript](https://www.youtube.com/watch?v=PFmuCDHHpwk)

### Agenda
1. OOP: what and why?
2. A story about javascript school
3. The early days (Before ES6)
4. ES6 wrapping
5. Typescript OOP

---

### OOP: what and why?
* As program grows, they then to go more messy, unless you have a strom coding paradigm

* OOP: the usage of "Objects" to orginize code by context

* Orginize data and function around "object" make it:
    - more intuitive
    - have better orginization
<!-- .element: class="fragment" -->

---
Functional

```js
const baseSalary = 10000;
const overtime = 20;
const overtimeRate = 55;

function getWage(baseSalary, overtime, overtimeRate) {
    return baseSalary + (overtime * overtimeRate);
}
```

---

Object Oriented

```js
const employee = {
    baseSalary: 10000;
    overtime: 20;
    overtimeRate: 55;
    getWage: function() {
        return this.baseSalary + (this.overtime * this.overtimeRate);
    };
}
```

* You can still use functional programming.
    - objects can be a parameter for a function
    - by returning objects you allow chaining (Like: Promise.then)
<!-- .element: class="fragment" -->

* How to choose?
    - If data and functions can be logically gathered around "a thing" in the real world - use objects
    - Objects: characters, users, items, events etc.
    - Don't force OOP when not reuired
<!-- .element: class="fragment" -->


---

* OOP Pillars:
    - Encapsulation
    - Abstracion
    - Inheritace
    - Polymorphism

* Live

---

### A story about javascript school (1)

Moshe is a web developer. He's building and mantaining codebase for
a javascript academy for the last 10 years (the original code was written in es5).
Zrubavel, His messy, annoying superviser, add new, unplanned requirements
for the acadamy managing system from time to time.
help Moshe to complete his task and achive inner peace.



---

### [The early days (Before ES6)](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS)
```
function Person(first, last, age, gender) {
    //private members
    var _firstName = first;
    var _lastName = last;

    // public
    this.getName = function() {
        return _firstName + ' ' + _lastName;
    };
}
Person.prototype.toString = function() {
    var genderStr = (this.gender === 'M') ? 'Male' : 'Female';
    return this.getName() + 'is ' + this.age + ' years old ' + genderStr;
};
var teacher1 = new Teacher('David', 'Levi', 40, 'M', 'Javascript');
```
---

### A story about javascript school (2)
"Moshe!" cried Zrubavel, "our database contain only data about teachers
but not for students! this is a disaster!".
Zrubavel turned to face the window, back to Moshe and said to himself:
"Plus, it would be great if each object could declare it's data with toString
method, it's a total mess out there..."

"OK" replied Moshe and turend to his screen.
Help Moshe complete his task using Functions and Porotoype.

---

### ES6 wrapping
---

### A story about javascript school (3)
"Moshe!" cried Zrubavel,
"We need now staring a new training program - each new teacher will first be a `Trainee`,
and will be an apprentice to more experinced teacher, which will now have
the title of professor. I need you to write the code. O', and make it es6 will ya?"
Zrubavel turned to face the window, back to Moshe and said to himself:
"Plus, it would be great if will can print the list of Professor-Trainee
pairs whenever we want..."

"OK" replied Moshe and turend to his screen.
Help Moshe complete his task using ES6 classes.

---

### Typescript OOP
```js
abstract class Person {
    private readonly firstName: string;
    private readonly lastName: string;
    public age: number;
    public gender: 'M' | 'F';

    protected constructor(first: string, last: string, age:number, gender) {
        // private
        this.firstName = first;
        this.lastName = last;
        // public
        this.age = age;
        this.gender = gender;
    }
    getName(): string {
        return this.firstName + ' ' + this.lastName;
    }
}
```
---

### A story about javascript school (4)
"Moshe!" cried Zrubavel,
"We need more robust code! with no typing, anybody can type whatever
they want as parameters! The new guy, Dave, he just shutdown the whole system
by providing name of a new teach to be 'Null!' this is a disaster!"

Zrubavel turned to face the window, back to Moshe and said to himself:
"Plus, it would be great if we could prevent new developers from using
super classes directly..."

"OK" replied Moshe and turend to his screen.
Help Moshe complete his task using Typescript types and interfaces.

---

### Further reading
* [ES5 OOP](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS)
* [Classes vs Interfaces in TypeScript](https://toddmotto.com/classes-vs-interfaces-in-typescript)
HW: read and play with the code snippets 
*